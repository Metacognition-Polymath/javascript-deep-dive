# 42. 비동기 프로그래밍

## 42.1 동기 처리와 비동기 처리

- 자바스크립트 엔진은 단 하나의 실행 컨텍스트 스택을 갖는다

  - 싱글 스레드
  - 한번에 하나의 태스크만 실행할 수 있기 때문에 처리에 시간일 걸리는 태스크를 실행하는 경우 블로킹(작업 중단)이 발생한다

- 동기(synchronous) : 현재 실행 중인 태스크가 종료할 때 까지 실행될 태스크가 대기하는 방식
- 비동기(asynchronous) : 실행 중인 태스크가 종료되지 않은 상태라 해도 다음 태스크를 곧바로 실행하는 방식
  - 비동기 태스크 이후 콜백을 전달해서 비동기 작업이 완료되면 콜백함수를 실행시킨다

## 42.2 이벤트 루프와 태스트 큐

- 자바스크립트 엔진은 싱글 스레드 이지만
- 브라우저는 멀티스레딩이 가능하다

- 이벤트 루프(싱글스레드)가 돌면서 동시성을 지원한다

V8엔진의 영역

- 콜스택(call stack) : 실행컨텍스트 스택
- 힙(heap) : 객체가 저장되는 메모리 공간

  - 콜 스택의 요소인 실행 컨텍스트는 힙에 저장된 객체를 참조한다

- 런타임 환경 : 브라우저 or Node.js

  - 이벤트 루프는 자바스크립트 엔진이 담당
  - 호출 스케쥴리을 위한 타이머 설정과 콜백함수의 등록은 런타임이 담당

- 자바스크립트에서 비동기가 가능한 이유는 자바스크립트는 싱글스레드 이지만
  런타임은 말티스레드로 동작한다
