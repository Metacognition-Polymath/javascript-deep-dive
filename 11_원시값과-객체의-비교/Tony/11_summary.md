# 11. 원시 값과 객체의 비교

## 11.1 원시 값

### 변경 불가능한 값

- 원시값 재할당 -> 재할당한 원시 값을 저장 -> 변수는 새롭게 재할당한 원시값을 가리킴(변수가 참조하던 메모리 공간의 주소가 바뀐다)
- 변수에 값을 저장하는 것이 아닌 변수의 주소를 가리키기 때문에 숫자를 가리키던 변수가 문자열을 가리킬 수 있는 것이다

### 문자열과 불변성

- 숫자는 8바이트로 고정되어 있지만
  - 문자열은 고정되어 있지 않다
- 자바스크립트는 문자열 타입을 제공, 원시타입, 변경 불가능

#### 유사 배열 객체

```js
var str = "string";
console.log(str[0]); // 문자열은 유사배열이므로 인덱스를 사용해 각 문자에 접근할 수 있다
str[0] = "A"; // 'String' 형식의 인덱스 시그니처는 읽기만 허용됩니다. => Error
```

- 값의 재할당이 불가능 : 예기치 못한 변경으로부터 자유로움 - 데이터의 신뢰성을 보장

### 값에 의한 전달

## 11.2 객체

- V8 엔진에서는 객체의 프로퍼티에 접근하기 위해 동적 탐색 대신 히든 클래스라는 방식을 사용해 C++객체의 프로퍼티에 접근하는 정도의 성능을 보장

  - 히든 클래스 : 자바같이 고정된 객체 레이아웃(`클래스`)과 유사하게 동작
  - 나중에 찾아보자 V8엔진이 객체를 어떻게 관리하는지

### 변경 가능한 값

#### 얕은 복사 vs 깊은 복사

- 객체를 프로퍼티 값으로 갖는 객체의 경우

  - 얕은 복사는 한 단계 까지만 복사
  - 깊은 복사는 중첩되어 있는 객체까지 모두 복사

- 다른 경우
  - 깊은 복사 : 원시값을 할당한 변수를 다른 변수에 할당 하는 것
  - 얕은 복사 : 객체를 할당한 변수를 다른 변수에 할당하는 것

### 참조에 의한 전달

```js
var person = {
  name: "Lee",
  study: {
    member: ["a", "b"],
    time: "22시",
  },
};

var shallowCopy = person; // 얕은 복사
var deepCopy = { ...person }; // 깊은 복사가 될 수도 있고 얕은 복사가 될 수도 있다 - depth 및 그 프로퍼티의 값에 따라

shallowCopy === person; // true
deepCopy === person; // false
```
